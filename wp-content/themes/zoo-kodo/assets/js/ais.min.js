!function(e){"use strict";var t,i=";path=",a={},r=!1,n=function(){for(var t,i=0,a=e.document.cookie.split(";"),r={};i<a.length;++i)(t=a[i].match(/^\sais\.([^=]+)=(.*?)\s*$/))&&(r[t[1]]=t[2]);return r},o=function(t,i){t=Math.max(parseFloat(t||1,10),.01);var a=e.document.documentElement,r=function(){var t=e.document.createElement("div"),i={width:"1px",height:"1px",display:"inline-block"};for(var a in i)t.style[a]=i[a];return t},n=e.document.createElement("div"),o=n.appendChild(r());n.appendChild(r()),a.appendChild(n);for(var s=n.clientHeight,d=Math.floor(e.innerWidth/s),c=d/2,l=0,h=[d];l++<1e3&&(Math.abs(c)>t||n.clientHeight>s);)d+=c,o.style.width=d+"em",c/=(n.clientHeight>s?1:-1)*(c>0?-2:2),h.push(d);return a.removeChild(n),d},s=function(e,t){for(var i,a=0,r=(e||"").split(","),n=[];a<r.length;++a)(i=r[a].match(/(\d+(?:\.\d+)?)(px)?/i))&&n.push(parseFloat(i[1],10));return n.sort(function(e,t){return e-t})},d=function(){navigator.cookieEnabled&&(a=n()),void 0!==a.images&&(r=!0);var d=e.document.getElementById("ais-script");if(d){var c="2880",l="2880";if(i+=d.getAttribute("data-home"),d.getAttribute("data-async"),navigator.cookieEnabled&&(e.document.cookie="ais.screen="+e.screen.width+i)){var h=s(d.getAttribute("data-image-breakpoints")),u=Math.max(e.screen.width,e.screen.height),g=null;do{if(u>(g=h.pop()))break;c=g,e.devicePixelRatio>1&&(l=g*e.devicePixelRatio)}while(h.length)}if(e.devicePixelRatio>1?(navigator.cookieEnabled&&(e.document.cookie="ais.images="+l+i),e.aisImages=l):(navigator.cookieEnabled&&(e.document.cookie="ais.images="+c+i),e.aisImages=c),navigator.cookieEnabled){if(a=n(),t=a.css||"-",!("css"in a&&a.css&&"-"!=a.css)){var m=e.innerWidth/o(parseFloat(d.getAttribute("data-em-precision")||.5,10)/100);t=e.screen.width+"x"+e.screen.height+"@"+Math.round(10*m)/10}e.document.cookie="ais.css="+t+i}}for(var p=new Array,v=e.document.querySelectorAll(".adaptive-image:not(.adaptive-fetching)"),b=0;b<v.length;b++){var f={},A=v[b];A.classList.add("adaptive-fetching"),f.uid=A.getAttribute("data-img-uid"),f.url=A.getAttribute("data-guid"),f.crop=A.getAttribute("data-crop"),f.path=A.getAttribute("data-path"),f.singlew=A.getAttribute("data-singlew"),f.singleh=A.getAttribute("data-singleh"),f.origwidth=A.getAttribute("data-width"),f.origheight=A.getAttribute("data-height"),f.fixed=void 0==A.getAttribute("data-fixed")?null:A.getAttribute("data-fixed"),f.logicalWidth=e.screen.width,f.physicalWidth=e.aisImages,p.push(f)}var w=new Array,y=JSON.stringify(p);if(w.cache="false",w.images=y,w.action="async_adaptive_images",w.abspath=zooScriptSettings.ABSPATH,p.length>0){var k=new XMLHttpRequest;k.onreadystatechange=function(){if(k.readyState==XMLHttpRequest.DONE)if(200==k.status)for(var e=JSON.parse(k.responseText),t=0;t<e.length;t++)for(var i=e[t],a=document.querySelectorAll('[data-img-uid="'+i.uid+'"]'),r=0;r<a.length;r++){var n=new Image;n.el=a[r],n.el.classList.remove("adaptive-async"),n.el.classList.remove("adaptive-fetching"),n.onload=function(){this.el.classList.add("async-done"),this.el.removeAttribute("data-crop"),this.el.removeAttribute("data-guid"),this.el.removeAttribute("data-path"),this.el.removeAttribute("data-fixed"),this.el.removeAttribute("data-width"),this.el.removeAttribute("data-height"),this.el.removeAttribute("data-singleh"),this.el.removeAttribute("data-singlew"),this.el.removeAttribute("data-img-uid")},n.el.src=i.url}else 400==k.status?console.log("404 error while making AJAX request!"):console.log("Unknown error occured.")};var x="",E=Object.keys(w).length,S=0;for(var L in w)x+=L+"="+w[L],S<E-1&&(x+="&"),S++;k.open("POST",zooScriptSettings.baseUri+"lib/helpers/ajax.php",!0),k.setRequestHeader("Content-type","application/x-www-form-urlencoded"),k.send(x)}};e.document.addEventListener("DOMContentLoaded",d)}(window);