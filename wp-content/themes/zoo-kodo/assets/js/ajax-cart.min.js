!function(t){"use strict";jQuery(document).ready(function(){function a(){t("body").toggleClass("cart-active")}if(t(document).bind("cleverswatch_before_add_to_cart",function(){a(),t(".wrap-mini-cart").addClass("loading")}),t(document).on("click",".wrap-icon-cart, .mask-close, .close",function(t){t.preventDefault(),a()}),"undefined"==typeof wc_add_to_cart_params)return!1;t(document).on("click",".mini_cart_item .remove",function(a){a.preventDefault(),t(".wrap-mini-cart").addClass("loading");var o=t(this),c=o.data("product_id");return t.ajax({type:"POST",dataType:"json",url:wc_add_to_cart_params.ajax_url,data:{action:"cart_remove_product",product_key:c},error:function(t,a,o){console.log("AJAX Remove "+o)},success:function(a){var c=t(".wrap-mini-cart");o.parents(".mini_cart_item").remove(),0==a.cart_count?(c.find(".cart_list").html('<li class="empty">'+c.find(".zoo-mini-cart").data("empty-cart")+"</li>"),c.find(".bottom-cart").remove()):c.find(".total .woocommerce-Price-amount").replaceWith(a.cart_subtotal),t(".total-cart").html(a.cart_subtotal),t(".top-cart-total span").html(a.cart_count),t(".sticky-cart .top-cart-total").html(a.cart_count),t(".wrap-mini-cart").removeClass("loading")}}),!1}),t(document).on("click",".add_to_cart_button:not(.product_type_variable)",function(){a(),t(".wrap-mini-cart").addClass("loading")}),t(document).on("click","button.single_add_to_cart_button:not(.disabled)",function(o){o.preventDefault(),a(),t(".wrap-mini-cart").addClass("loading"),t(".zoo-quickview-mask").css("opacity","0"),t("#zoo-quickview-lb").css({top:"calc(50% + 150px)",opacity:"0"}),setTimeout(function(){t("#zoo-quickview-lb").remove(),t(".zoo-quickview-mask").remove()},500);var c=t(this).closest("form"),r={product_id:c.find("*[name*='add-to-cart']").val(),product_variation_data:c.serialize()};return r.product_id||(r.product_id=t(".woocommerce-variation-add-to-cart input[name*='product_id']").val()),t.ajax({type:"POST",dataType:"html",url:"?add-to-cart="+r.product_id+"& ajax-add-to-cart=1",data:r.product_variation_data,cache:!1,headers:{"cache-control":"no-cache"},error:function(t,a,o){console.log("AJAX error - SubmitForm() - "+o)},success:function(a){var o=t(a),c=o.find(".woocommerce-message"),r={"#top-cart .top-cart-total":o.find("#top-cart .top-cart-total"),".sticky-cart .top-cart-total":o.find(".sticky-cart .top-cart-total"),".total-cart":o.find(".total-cart"),".woocommerce-message":c,".wrap-mini-cart":o.find(".wrap-mini-cart")};t.each(r,function(a,o){o.length&&t(a).replaceWith(o)}),t(".wrap-mini-cart").removeClass("loading")}}),!1})})}(jQuery);